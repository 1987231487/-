(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d80e59a"],{"52f2":function(t,e,o){"use strict";var r=o("fa58"),s=o.n(r);s.a},"9b46":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"order"},[null!==t.orders?o("div",{staticClass:"order-content"},t._l(t.orders,(function(e,r){return o("div",{key:r,staticClass:"content"},[o("ul",[o("li",{staticClass:"order-info"},[o("div",{staticClass:"order-id"},[t._v("订单编号: "+t._s(t.orders[r].orderItemId))]),o("div",{staticClass:"order-time"},[t._v("订单时间: "+t._s(t._f("dateFormat")(t.orders[r].createTime)))])]),t._m(0,!0),o("li",{staticClass:"product-list"},[o("div",{staticClass:"pro-img"},[o("router-link",{attrs:{to:{path:"/goods/details",query:{productID:t.orders[r].goodsId}}}},[o("img",{attrs:{src:t.orders[r].goodsCoverImg}})])],1),o("div",{staticClass:"pro-name"},[o("router-link",{attrs:{to:{path:"/goods/details",query:{productID:t.orders[r].goodsId}}}},[t._v(t._s(t.orders[r].goodsName))])],1),o("div",{staticClass:"pro-price"},[t._v(t._s(t.orders[r].sellingPrice)+"元")]),o("div",{staticClass:"pro-num"},[t._v(t._s(t.orders[r].goodsCount))]),o("div",{staticClass:"pro-total pro-total-in"},[t._v(t._s(t.orders[r].sellingPrice*t.orders[r].goodsCount)+"元")]),o("div",{staticClass:"pro-operate"},[o("el-dialog",{attrs:{title:"表单弹框",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("el-form",{ref:"form",refInFor:!0,attrs:{model:t.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"商品名"}},[o("el-input",{model:{value:t.form.goodsName,callback:function(e){t.$set(t.form,"goodsName",e)},expression:"form.goodsName"}})],1),o("el-form-item",{attrs:{label:"分类"}},[o("el-select",{model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}},[o("el-option",{attrs:{label:"丹药",value:"15"}}),o("el-option",{attrs:{label:"炼丹炉",value:"16"}}),o("el-option",{attrs:{label:"功法",value:"17"}}),o("el-option",{attrs:{label:"异火",value:"18"}}),o("el-option",{attrs:{label:"武器",value:"19"}}),o("el-option",{attrs:{label:"灵宠",value:"20"}}),o("el-option",{attrs:{label:"其他",value:"21"}})],1)],1),o("el-form-item",{attrs:{label:"售价"}},[o("el-input",{model:{value:t.form.sellingPrice,callback:function(e){t.$set(t.form,"sellingPrice",e)},expression:"form.sellingPrice"}})],1),o("el-form-item",{attrs:{label:"总数"}},[o("el-input",{model:{value:t.form.goodsCount,callback:function(e){t.$set(t.form,"goodsCount",e)},expression:"form.goodsCount"}})],1),o("el-form-item",{attrs:{label:"状态"}},[o("el-select",{model:{value:t.form.orderStatus,callback:function(e){t.$set(t.form,"orderStatus",e)},expression:"form.orderStatus"}},[o("el-option",{attrs:{label:"待支付",value:"0"}}),o("el-option",{attrs:{label:"已支付",value:"1"}}),o("el-option",{attrs:{label:"已发货",value:"2"}}),o("el-option",{attrs:{label:"已签收",value:"3"}})],1)],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.undateOrder()}}},[t._v("确 定")])],1)],1),o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.delOrder(t.orders[r].orderItemId)}}},[t._v("删除")]),o("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.undateOrderID(r)}}},[t._v("修改")])],1)])]),o("div",{staticClass:"order-bar"},[o("div",{staticClass:"order-bar-right"},[o("span",[o("span",{staticClass:"total-price-title"},[t._v("状态：")]),o("span",{staticClass:"total-price"},[t._v(t._s(t.orderst[t.orders[r].orderStatus])+" ")])]),o("br")])])])})),0):t._e(),o("div",{staticStyle:{"margin-top":"-40px"}})])},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"header"},[o("div",{staticClass:"pro-img"}),o("div",{staticClass:"pro-name"},[t._v("商品名称")]),o("div",{staticClass:"pro-price"},[t._v("单价")]),o("div",{staticClass:"pro-num"},[t._v("数量")]),o("div",{staticClass:"pro-total"},[t._v("小计")]),o("div",{staticClass:"pro-operate"},[t._v("操作")])])}],a=(o("a4d3"),o("4de4"),o("4160"),o("e439"),o("dbb4"),o("b64b"),o("d3b7"),o("159b"),o("ade3")),i=o("2f62");function l(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?l(Object(o),!0).forEach((function(e){Object(a["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var d={computed:n({},Object(i["c"])(["getOrder"])),data:function(){return{changeID:0,dialogVisible:!1,form:{goodsName:"",categoryId:"",sellingPrice:"",goodsCount:"",orderStatus:""},orderst:["待支付","已支付","已发货","已签收"],forPay:!0,orders:[],total:[]}},activated:function(){},created:function(){this.indexorder()},watch:{changeID:function(t){console.log("watch changeID",this.form.goodsName),t>=0&&(this.form.goodsName=this.orders[t].goodsName,this.form.categoryId=this.orders[t].categoryId,this.form.sellingPrice=this.orders[t].sellingPrice,this.form.goodsCount=this.orders[t].goodsCount,this.form.orderStatus=this.orders[t].orderStatus,this.dialogVisible=!0)}},methods:{undateOrderID:function(t){this.changeID=t},undateOrder:function(){var t=this;console.log(this.form.goodsName,this.form.categoryId,this.form.sellingPrice,this.form.goodsCount,this.form.orderStatus),this.dialogVisible=!1,this.$axios({url:this.$target+"/admin/ordersInfo/update",method:"post",params:{orderItemId:this.orderst[this.changeID].goodsId,goodsName:this.form.goodsName,categoryId:this.form.categoryId,sellingPrice:this.form.sellingPrice,goodsCount:this.form.goodsCount,orderStatus:this.form.orderStatus}}).then((function(e){e.data.flag?t.notifySucceed(e.data.msg):t.notifyError("更新订单失败",e.data.msg)})).catch((function(t){return Promise.reject(t)})),this.changeID=-1,this.$router.go(0)},delOrder:function(t){var e=this;console.log(t),this.$axios({url:this.$target+"/admin/ordersInfo/delete",method:"psot",params:{orderItemId:t}}).then((function(t){t.data.flag?e.notifySucceed(t.data.msg):e.notifyError("删除失败",t.data.msg)})).catch((function(t){return Promise.reject(t)})),this.$router.go(0)},indexorder:function(){var t=this;this.$axios({url:this.$target+"/admin/ordersInfo",method:"get"}).then((function(e){e.data.flag?(t.orders=e.data.data,console.log(t.orders)):t.notifyError("获取购物车的所有商品",e.data.msg)})).catch((function(t){return Promise.reject(t)}))}}},c=d,u=(o("52f2"),o("2877")),f=Object(u["a"])(c,r,s,!1,null,"7f6b6c68",null);e["default"]=f.exports},fa58:function(t,e,o){}}]);
//# sourceMappingURL=chunk-7d80e59a.c87ae35b.js.map