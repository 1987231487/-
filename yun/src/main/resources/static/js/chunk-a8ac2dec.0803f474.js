(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8ac2dec"],{"74d1":function(t,r,e){"use strict";var s=e("9ec4"),o=e.n(s);o.a},"9ec4":function(t,r,e){},cf2a:function(t,r,e){"use strict";e.r(r);var s=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"order"},[t._m(0),null!==t.orders?e("div",{staticClass:"order-content"},t._l(t.orders,(function(r,s){return e("div",{key:s,staticClass:"content"},[e("ul",[e("li",{staticClass:"order-info"},[e("div",{staticClass:"order-id"},[t._v("订单编号: "+t._s(t.orders[s].orderItemId))]),e("div",{staticClass:"order-time"},[t._v("订单时间: "+t._s(t._f("dateFormat")(t.orders[s].order_time)))])]),t._m(1,!0),e("li",{staticClass:"product-list"},[e("div",{staticClass:"pro-img"},[e("router-link",{attrs:{to:{path:"/goods/details",query:{productID:t.orders[s].goodsId}}}},[e("img",{attrs:{src:t.orders.goodsCoverImg}})])],1),e("div",{staticClass:"pro-name"},[e("router-link",{attrs:{to:{path:"/goods/details",query:{productID:t.orders[s].goodsId}}}},[t._v(t._s(t.orders[s].goodsName))])],1),e("div",{staticClass:"pro-price"},[t._v(t._s(t.orders[s].sellingPrice)+"元")]),e("div",{staticClass:"pro-num"},[t._v(t._s(t.orders[s].goodsCount))]),e("div",{staticClass:"pro-total pro-total-in"},[t._v(t._s(t.orders[s].sellingPrice*t.orders[s].goodsCount)+"元")]),e("div",{staticClass:"pro-operate"},[e("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.orders[s].orderstatus,expression:"orders[index].orderstatus == 0"}],attrs:{type:"primary",size:"mini"},on:{click:function(r){return t.delOrder(t.orders[s].orderItemId)}}},[t._v("删除")]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.orders[s].orderstatus,expression:"orders[index].orderstatus == 1"}],attrs:{type:"success",size:"mini"}},[t._v("支付")]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.orders[s].orderstatus,expression:"orders[index].orderstatus == 2"}],attrs:{type:"warning",size:"mini"}},[t._v("退款")]),e("el-button",{directives:[{name:"show",rawName:"v-show",value:3==t.orders[s].orderstatus,expression:"orders[index].orderstatus == 3"}],attrs:{type:"danger",size:"mini"}},[t._v("退货")])],1)])]),e("div",{staticClass:"order-bar"},[e("div",{staticClass:"order-bar-right"},[e("span",[e("span",{staticClass:"total-price-title"},[t._v("状态：")]),e("span",{staticClass:"total-price"},[t._v(t._s(t.orderst[t.orders[s].orderstatus])+" ")])]),e("br")])])])})),0):t._e(),e("div",{staticStyle:{"margin-top":"-40px"}})])},o=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"order-header"},[e("div",{staticClass:"order-header-content"},[e("p",[e("i",{staticClass:"el-icon-s-order",staticStyle:{"font-size":"30px",color:"#ff6700"}}),t._v(" 我的订单 ")])])])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("li",{staticClass:"header"},[e("div",{staticClass:"pro-img"}),e("div",{staticClass:"pro-name"},[t._v("商品名称")]),e("div",{staticClass:"pro-price"},[t._v("单价")]),e("div",{staticClass:"pro-num"},[t._v("数量")]),e("div",{staticClass:"pro-total"},[t._v("小计")]),e("div",{staticClass:"pro-operate"},[t._v("操作")])])}],a=(e("a4d3"),e("4de4"),e("4160"),e("e439"),e("dbb4"),e("b64b"),e("d3b7"),e("159b"),e("ade3")),i=e("2f62");function d(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,s)}return e}function n(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?d(Object(e),!0).forEach((function(r){Object(a["a"])(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}var c={computed:n({},Object(i["c"])(["getOrder"])),data:function(){return{orderst:["待支付","已支付","已发货","已签收"],forPay:!0,orders:[],total:[]}},activated:function(){},created:function(){this.indexorder()},watch:{orders:function(t){for(var r=[],e=0;e<t.length;e++){var s=t[e],o=0,a=0;o=s.goodsCount,a=o*s.sellingPrice,r.push({totalNum:o,totalPrice:a})}this.total=r,console.log(this.total)}},methods:{delOrder:function(t){var r=this,e=this.$store.getters.getUserId;this.$axios({url:this.$target+"/delOrder",method:"get",params:{orderItemId:t,userId:e}}).then((function(t){t.data.flag?(console.log(r.orders),r.notifySucceed(t.data.msg)):r.notifyError("获取购物车的所有商品",t.data.msg)})).catch((function(t){return Promise.reject(t)}))},indexorder:function(){var t=this,r=this.$store.getters.getUserId;this.$axios({url:this.$target+"/orders",method:"get",params:{userId:r}}).then((function(r){r.data.flag?(t.orders=r.data.data,console.log(t.orders)):t.notifyError("获取购物车的所有商品",r.data.msg)})).catch((function(t){return Promise.reject(t)}))}}},l=c,u=(e("74d1"),e("2877")),v=Object(u["a"])(l,s,o,!1,null,"585aa590",null);r["default"]=v.exports}}]);
//# sourceMappingURL=chunk-a8ac2dec.0803f474.js.map