(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf951b64"],{1970:function(t,e,r){"use strict";var o=r("2d10"),s=r.n(o);s.a},"2d10":function(t,e,r){},"9b46":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order"},[null!==t.orders?r("div",{staticClass:"order-content"},t._l(t.orders,(function(e,o){return r("div",{key:o,staticClass:"content"},[r("ul",[r("li",{staticClass:"order-info"},[r("div",{staticClass:"order-id"},[t._v("订单编号: "+t._s(t.orders[o].orderItemId))]),r("div",{staticClass:"order-time"},[t._v("订单时间: "+t._s(t._f("dateFormat")(t.orders[o].createTime)))])]),t._m(0,!0),r("li",{staticClass:"product-list"},[r("div",{staticClass:"pro-img"},[r("router-link",{attrs:{to:{path:"/goods/details",query:{productID:t.orders[o].goodsId}}}},[r("img",{attrs:{src:t.orders[o].goodsCoverImg}})])],1),r("div",{staticClass:"pro-name"},[r("router-link",{attrs:{to:{path:"/goods/details",query:{productID:t.orders[o].goodsId}}}},[t._v(t._s(t.orders[o].goodsName))])],1),r("div",{staticClass:"pro-price"},[t._v(t._s(t.orders[o].sellingPrice)+"元")]),r("div",{staticClass:"pro-num"},[t._v(t._s(t.orders[o].goodsCount))]),r("div",{staticClass:"pro-total pro-total-in"},[t._v(t._s(t.orders[o].sellingPrice*t.orders[o].goodsCount)+"元")]),r("div",{staticClass:"pro-operate"},[r("el-dialog",{attrs:{title:"表单弹框",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{ref:"form",refInFor:!0,attrs:{model:t.form,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"商品名"}},[r("el-input",{model:{value:t.form.goodsName,callback:function(e){t.$set(t.form,"goodsName",e)},expression:"form.goodsName"}})],1),r("el-form-item",{attrs:{label:"分类"}},[r("el-select",{model:{value:t.form.categoryId,callback:function(e){t.$set(t.form,"categoryId",e)},expression:"form.categoryId"}},[r("el-option",{attrs:{label:"丹药",value:"15"}}),r("el-option",{attrs:{label:"炼丹炉",value:"16"}}),r("el-option",{attrs:{label:"功法",value:"17"}}),r("el-option",{attrs:{label:"异火",value:"18"}}),r("el-option",{attrs:{label:"武器",value:"19"}}),r("el-option",{attrs:{label:"灵宠",value:"20"}}),r("el-option",{attrs:{label:"其他",value:"21"}})],1)],1),r("el-form-item",{attrs:{label:"售价"}},[r("el-input",{model:{value:t.form.sellingPrice,callback:function(e){t.$set(t.form,"sellingPrice",e)},expression:"form.sellingPrice"}})],1),r("el-form-item",{attrs:{label:"总数"}},[r("el-input",{model:{value:t.form.goodsCount,callback:function(e){t.$set(t.form,"goodsCount",e)},expression:"form.goodsCount"}})],1),r("el-form-item",{attrs:{label:"状态"}},[r("el-select",{model:{value:t.form.orderStatus,callback:function(e){t.$set(t.form,"orderStatus",e)},expression:"form.orderStatus"}},[r("el-option",{attrs:{label:"待支付",value:"0"}}),r("el-option",{attrs:{label:"已支付",value:"1"}}),r("el-option",{attrs:{label:"已发货",value:"2"}}),r("el-option",{attrs:{label:"已签收",value:"3"}})],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.undateOrder()}}},[t._v("确 定")])],1)],1),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.delOrder(t.orders[o].orderItemId)}}},[t._v("删除")]),r("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.undateOrderID(o)}}},[t._v("修改")])],1)])]),r("div",{staticClass:"order-bar"},[r("div",{staticClass:"order-bar-right"},[r("span",[r("span",{staticClass:"total-price-title"},[t._v("状态：")]),r("span",{staticClass:"total-price"},[t._v(t._s(t.orderst[t.orders[o].orderStatus])+" ")])]),r("br")])])])})),0):t._e(),r("div",{staticStyle:{"margin-top":"-40px"}})])},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"header"},[r("div",{staticClass:"pro-img"}),r("div",{staticClass:"pro-name"},[t._v("商品名称")]),r("div",{staticClass:"pro-price"},[t._v("单价")]),r("div",{staticClass:"pro-num"},[t._v("数量")]),r("div",{staticClass:"pro-total"},[t._v("小计")]),r("div",{staticClass:"pro-operate"},[t._v("操作")])])}],a=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("ade3")),i=r("2f62");function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={computed:n({},Object(i["c"])(["getOrder"])),data:function(){return{changeID:0,dialogVisible:!1,form:{goodsName:"",categoryId:"",sellingPrice:"",goodsCount:"",orderStatus:""},orderst:["待支付","已支付","已发货","已签收"],forPay:!0,orders:[],total:[]}},activated:function(){},created:function(){this.indexorder()},watch:{changeID:function(t){console.log("watch changeID",this.form.goodsName),t>=0&&(this.form.goodsName=this.orders[t].goodsName,this.form.categoryId=this.orders[t].categoryId,this.form.sellingPrice=this.orders[t].sellingPrice,this.form.goodsCount=this.orders[t].goodsCount,this.form.orderStatus=this.orders[t].orderStatus,this.dialogVisible=!0)}},methods:{undateOrderID:function(t){this.changeID=t},undateOrder:function(){var t=this;console.log(this.form.goodsName,this.form.categoryId,this.form.sellingPrice,this.form.goodsCount,this.form.orderStatus),this.dialogVisible=!1,this.$axios({url:this.$target+"/admin/ordersInfo/update",method:"post",params:{orderItemId:this.orders[this.changeID].orderItemId,goodsName:this.form.goodsName,categoryId:this.form.categoryId,sellingPrice:this.form.sellingPrice,goodsCount:this.form.goodsCount,orderStatus:this.form.orderStatus}}).then((function(e){e.data.flag?t.notifySucceed(e.data.msg):t.notifyError("更新订单失败",e.data.msg)})).catch((function(t){return Promise.reject(t)})),this.changeID=-1,this.$router.go(0)},delOrder:function(t){var e=this;console.log(t),this.$axios({url:this.$target+"/admin/ordersInfo/delete",method:"psot",params:{orderItemId:t}}).then((function(t){t.data.flag?e.notifySucceed(t.data.msg):e.notifyError("删除失败",t.data.msg)})).catch((function(t){return Promise.reject(t)})),this.$router.go(0)},indexorder:function(){var t=this;this.$axios({url:this.$target+"/admin/ordersInfo",method:"get"}).then((function(e){e.data.flag?(t.orders=e.data.data,console.log(t.orders)):t.notifyError("获取购物车的所有商品",e.data.msg)})).catch((function(t){return Promise.reject(t)}))}}},c=d,u=(r("1970"),r("2877")),m=Object(u["a"])(c,o,s,!1,null,"e10e8b42",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-cf951b64.d63e158e.js.map